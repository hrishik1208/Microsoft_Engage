{% extends 'basic.html' %}
{% block script %} <script src="/static/Js/courses.js"></script> {% endblock  %}
{% block name %} {{ name }} {% endblock %}
{% block navlist2 %} btn btn-primary {% endblock  %}
{% block body %}

<br><center><hr><h2 style="font-style:italic;"><u>Your Published Courses</u> </h2></center><br>

<div class="container">
    <div class="row">
      {% for i in list  %}
        <div style="padding:30px;" class="col-md-4 col-sm-6">
        <div class="card" style="width: 18rem;">
            <center>
            <div class="card-body">
              <h5 class="card-title">Course No. {{ forloop.counter }} </h5>
              <p class="card-text" name="coursename">{{ i.course_name }}</p>
              
            </div></center>
        </div>
        </div>
        {% endfor %}
    </div>
</div>
<hr>
<br><br>
<center>
    <div style="width: 40%;font-size: 20px">
        <div class="card card-body">
          <!-- Some placeholder content for the collapse component. This panel is hidden by default but revealed when the user activates the relevant trigger. -->
          <form  action='/course' method ="POST">
              {% csrf_token %}
            <div class="form-group">
              <label for="exampleInputEmail1">Course Name</label>
              <input type="text" name='coursename' class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Eg: Introduction To Programming">
              <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
            </div><br>
            <div class="form-group">
              <label for="exampleInputPassword1">Active time</label><br> 
              <input type="number" class="form-control" name='time' id="exampleInputPassword1" placeholder="time in minutes">
            </div>
            <br>
           <div class="form-group">
            <div class="form-check">
              <input value="onboard" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" onclick="fun1()" checked>
              <label class="form-check-label" for="flexRadioDefault">
                Disallow Geolocation
              </label>
            </div>
            <hr>
            <div class="form-check">
              <input value="onboard" class="form-check-input" type="radio" name="flexRadioDefault" onclick="fun2()" id="flexRadioDefault2" >
              <label class="form-check-label" for="flexRadioDefault">
                Allow Geolocation <br>
              </label>
            </div>
           </div>
            <div id="Fun1"></div><br>
            <div >
              <input class="form-control" name="radius" id="Fun2" type="number" placeholder="Radius Distance in metres">
            </div>
            <br>
            <button type="submit" class="btn btn-primary">Start Taking Attendance</button>
          </form>
        </div>
      </div>
</center>
<br><br><br><br>
<script>
  document.getElementById("Fun2").disabled = true;
  function fun1(){

    document.getElementById("Fun2").disabled = true;
    document.getElementById("Fun1").innerHTML = ' ';
  }


  function fun2(){
    if('geolocation' in navigator){
      navigator.geolocation.getCurrentPosition(position=>{
        var latitude=position.coords.latitude;
        var longitude=position.coords.longitude;
        console.log(latitude,longitude);
      var a= latitude.toString();
      var b= longitude.toString();
      var v= a.concat("+",b);

        
       document.getElementById("flexRadioDefault2").value = v;
        document.getElementById("Fun2").disabled = false;
        document.getElementById("Fun1").innerHTML = '<hr><p>Info About this project</p> <img width="100%" src="/static/images/globe.jpg">';

        },error=>{
        alert("Please allow location");
      });
    }
    else{
      alert("Not Supported");
    }
  }

</script>

{% endblock  %}
