{% extends 'boiler2.html' %}
{% block name %} {{ name }} {% endblock %}
{% block navlist3 %} btn btn-primary {% endblock  %}

{% block body %}



<div class="container">
  {% if num == 0 %}
  <center>
  <h3>No Attendance Records till Now</h3></h3>
  {% else %}
  <center>
    <div id="var1" style="color:white;">{{count_attendance}}</div>
    <div id="var2" style="color:white;">{{count_unattendance}}</div>
  <div class="container" style="margin-top:-40px;" id="piechart"></div> </center>

<script type="text/javascript" src="static/bootstrap/js/loader.js"></script>

<script type="text/javascript">
// Load google charts
var attend = document.getElementById('var1').innerHTML;
var not_attend = document.getElementById('var2').innerHTML;
var Attend = parseInt(attend)
var Not_attend = parseInt(not_attend)
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);
console.log(attend)
// Draw the chart and set the chart values
function drawChart() {
  var data = google.visualization.arrayToDataTable([
  ['Task', 'Hours per Day'],
  ['Attended', Attend],
  ['Not Attended', Not_attend]
]);

  // Optional; add a title and set the width and height of the chart
  var options = {legend: 'none','width':350, 'height':300};

  // Display the chart inside the <div> element with id="piechart"
  var chart = new google.visualization.PieChart(document.getElementById('piechart'));
  chart.draw(data,options);
}
</script>

  {% for i in final_list_of_courses %}
  <div class="row">
    <hr>
    <div class="container">
      Date : {{ i.first.date }}
    </div>

    <div style="border: 2px solid black;" class="row">
      
      <div class="col-3">
        <img style="margin-left:-3%" width="50%" height="100%" src="static/images/course.jpg" alt="">
      </div>
      <div class="col-6">
        <h4 style="margin-top:4%;">Course : {{ i.first.course_name }}</h4>
      </div>
      <div class="col-3">
        {% if i.second == 1 %}
        <h4 style="margin-top:4%;">Attended  </h4>

        {% else %}

        <h4 style="margin-top:4%;">Unattended </h4>
        {% endif %}
        
      </div>
    </div>
  </div>
  <br>
{% endfor %}

  {% endif %}
  
</div>


{% endblock  %}


